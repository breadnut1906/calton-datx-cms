<p-table [columns]="columns" [value]="datasource">
    <ng-template #header let-columns>
        <tr>
            @for (column of columns; track $index) {
                <th>{{ column.header }}</th>
            }
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template #body let-rowData let-columns="columns">
        <tr>
            @for (col of columns; track $index) {
                <td>{{ rowData[col.field] }}</td>
            }
            <td>
                <ng-container *ngTemplateOutlet="actionTempRef; context: { $implicit: rowData }"></ng-container>
            </td>
        </tr>
    </ng-template>
</p-table>